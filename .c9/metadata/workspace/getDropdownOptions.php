{"changed":true,"filter":false,"title":"getDropdownOptions.php","tooltip":"/getDropdownOptions.php","value":"<?php\n\n// This PHP script fetches values from a database table,\n// formats these values into HTML option tags, and \n// passes the result back.\n// This result will then be used to populate the drop-down.\n\n// 1. establish database connection\n$dbHost = '0.0.0.0';\n$dbUser = 'lcarbonaro';\n$dbPass = '';\n$dbName = 'test';\n$dbConn = mysqli_connect($dbHost, $dbUser, $dbPass, $dbName);\nif ( !$dbConn ) {\n    exit('Database Connection Error (' . mysqli_connect_errno() . ') ' . mysqli_connect_error());\n}\n\n// 2. query out the data\n$sqlStatement = \"SELECT `id`,`method_name` FROM `paymethod`\";\n$sqlResult    = mysqli_query($dbConn, $sqlStatement);\nif ( !$sqlResult ) {\n    exit('MySQL Error: ' . mysqli_error($dbConn) . 'SQL: ' . $sqlStatement);\n}\n\n// 3. prepare the data for presentation \n// i.e. format the values from the query result as HTML option tags\n$options = '';\nwhile ( $row = mysqli_fetch_assoc($sqlResult) ) {\n    $options .= '<option value=\"'.$row['id'].'\">'.$row['method_name'].'</option>';\n}\n\n// 4. return the formatted data\necho($options);\n\n/*\n-- The code shown above assumes this table structure:\nCREATE TABLE `paymethod` (\n  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\n  `method_name` varchar(25),\n  PRIMARY KEY (`id`)\n);\n-- With records something like:\nINSERT INTO `paymethod` (`id`, `method_name`) VALUES\n(1, 'Credit Card'),\n(2, 'Debit Card'),\n(3, 'Cash'),\n(4, 'Cheque');\n*/\n\n/*\n * Note that a better approach is to return data in JSON format, so step 3 would be:\n *\n * $options = array();\n * while ( $row = mysqli_fetch_assoc($sqlResult) ) {\n *     $option = array( 'id'=>$row['id'], 'name'=> $row['method_name']);\n *     $options[] = $option;\n * }\n * $options = json_encode($options);   // to JSON-ize the array\n *\n * Using JSON is a better approach because it de-couples the data layer (this backend script)\n * from the presentation layer (HTML in this case).\n *\n */","undoManager":{"mark":92,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":62,"column":90},"end":{"row":62,"column":91},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":91},"end":{"row":62,"column":92},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":93},"end":{"row":62,"column":94},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":94},"end":{"row":62,"column":95},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":95},"end":{"row":62,"column":96},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":96},"end":{"row":62,"column":97},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":97},"end":{"row":62,"column":98},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":98},"end":{"row":62,"column":99},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":99},"end":{"row":62,"column":100},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":100},"end":{"row":62,"column":101},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":101},"end":{"row":62,"column":102},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":102},"end":{"row":62,"column":103},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":103},"end":{"row":62,"column":104},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":104},"end":{"row":62,"column":105},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":105},"end":{"row":62,"column":106},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":106},"end":{"row":62,"column":107},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":107},"end":{"row":62,"column":108},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":108},"end":{"row":62,"column":109},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":109},"end":{"row":62,"column":110},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":110},"end":{"row":62,"column":111},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":111},"end":{"row":62,"column":112},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":112},"end":{"row":62,"column":113},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":113},"end":{"row":62,"column":114},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":114},"end":{"row":62,"column":115},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":115},"end":{"row":62,"column":116},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":116},"end":{"row":62,"column":117},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":117},"end":{"row":62,"column":118},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":118},"end":{"row":62,"column":119},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":119},"end":{"row":62,"column":120},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":120},"end":{"row":62,"column":121},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":121},"end":{"row":62,"column":122},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":122},"end":{"row":62,"column":123},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":122},"end":{"row":62,"column":123},"action":"remove","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":122},"end":{"row":62,"column":124},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":123},"end":{"row":62,"column":124},"action":"insert","lines":["H"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":124},"end":{"row":62,"column":125},"action":"insert","lines":["T"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":125},"end":{"row":62,"column":126},"action":"insert","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":126},"end":{"row":62,"column":127},"action":"insert","lines":["L"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":127},"end":{"row":62,"column":128},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":128},"end":{"row":62,"column":129},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":129},"end":{"row":62,"column":130},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":130},"end":{"row":62,"column":131},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":131},"end":{"row":62,"column":132},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":132},"end":{"row":62,"column":133},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":133},"end":{"row":62,"column":134},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":134},"end":{"row":62,"column":135},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":135},"end":{"row":62,"column":136},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":136},"end":{"row":62,"column":137},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":137},"end":{"row":62,"column":138},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":138},"end":{"row":62,"column":139},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":139},"end":{"row":62,"column":140},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":39},"end":{"row":62,"column":40},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":40},"end":{"row":62,"column":41},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":93},"end":{"row":62,"column":94},"action":"remove","lines":[" "]},{"start":{"row":62,"column":93},"end":{"row":63,"column":0},"action":"insert","lines":["",""]},{"start":{"row":63,"column":0},"end":{"row":63,"column":1},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":1},"end":{"row":63,"column":2},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":2},"end":{"row":63,"column":3},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":0},"end":{"row":64,"column":1},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":50},"end":{"row":63,"column":51},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":51},"end":{"row":64,"column":0},"action":"insert","lines":["",""]},{"start":{"row":64,"column":0},"end":{"row":64,"column":1},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":1},"end":{"row":64,"column":2},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":0},"end":{"row":27,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":0},"end":{"row":26,"column":1},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":1},"end":{"row":26,"column":2},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":1},"end":{"row":31,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":0},"end":{"row":31,"column":1},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":1},"end":{"row":31,"column":2},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":2},"end":{"row":32,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":0},"end":{"row":37,"column":63},"action":"insert","lines":["$options = array();"," * while ( $row = mysqli_fetch_assoc($sqlResult) ) {"," *     $option = array( 'id'=>$row['id'], 'name'=> $row['method_name']);"," *     $options[] = $option;"," * }"," * $options = json_encode($options);   // to JSON-ize the array"]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":0},"end":{"row":33,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":0},"end":{"row":33,"column":1},"action":"remove","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":0},"end":{"row":33,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":0},"end":{"row":34,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":0},"end":{"row":34,"column":1},"action":"remove","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":0},"end":{"row":34,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":0},"end":{"row":35,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":0},"end":{"row":35,"column":1},"action":"remove","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":0},"end":{"row":35,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":0},"end":{"row":35,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":0},"end":{"row":36,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":0},"end":{"row":36,"column":1},"action":"remove","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":0},"end":{"row":36,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":0},"end":{"row":37,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":0},"end":{"row":37,"column":1},"action":"remove","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":0},"end":{"row":37,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":0},"end":{"row":34,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":0},"end":{"row":34,"column":1},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":1},"end":{"row":34,"column":2},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":2},"end":{"row":34,"column":3},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":3},"end":{"row":34,"column":4},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":0},"end":{"row":35,"column":1},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":1},"end":{"row":35,"column":2},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":2},"end":{"row":35,"column":3},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":3},"end":{"row":35,"column":4},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":0},"end":{"row":37,"column":60},"action":"remove","lines":["*/","$options = array();","while ( $row = mysqli_fetch_assoc($sqlResult) ) {","    $option = array( 'id'=>$row['id'], 'name'=> $row['method_name']);","    $options[] = $option;","}","$options = json_encode($options);   // to JSON-ize the array"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":0},"end":{"row":32,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":0},"end":{"row":26,"column":1},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":0},"end":{"row":26,"column":1},"action":"remove","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":0},"end":{"row":27,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":0},"end":{"row":36,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":0},"end":{"row":42,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":0},"end":{"row":48,"column":0},"action":"remove","lines":["",""]}]}]]},"ace":{"folds":[],"scrolltop":600,"scrollleft":0,"selection":{"start":{"row":47,"column":0},"end":{"row":47,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":12,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1417633226518}